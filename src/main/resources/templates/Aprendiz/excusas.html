<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head th:insert="~{/usuario/templates_usuario.html::head}"></head>

<body class="body" style="font-family: 'Segoe UI', sans-serif;">

	<!-- HEADER -->
	<header id="header" class="header d-flex align-items-center justify-content-between fixed-top w-100"
		style="background-color: rgba(0, 124, 88, 0.6); box-shadow: 0 5px 3px rgba(0,0,0,0.2);">
		<div class="container-fluid container-xl d-flex align-items-center justify-content-between">
			<h1 class="sitename m-0">
				<strong style="color:#ffffff;">TECH</strong>
				<span style="color:#ffffff;">ACCESS</span>
				<span style="color:#adb5bd;">/</span>
				<span style="color:#ffffff;">SENA - CIMM CIUDADELA</span>
			</h1>
		</div>
	</header>

	<!-- CONTENIDO -->
	<main class="main py-4" style="background-color: rgba(0, 124, 88, 0.05); margin-top: 80px;">
		<div class="container">
			<div class="row">

				<!-- Menú lateral -->
				<div class="col-lg-3 mb-4">
					<div class="user-nav rounded shadow-sm p-3 bg-white">
						<div class="text-center mb-3">
							<img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTyPko2ajUOpOXvihi71Rccu8kXmRXPhnkOKA&s"
								alt="Foto de perfil"
								style="width: 120px; border-radius: 50%; border: 2px solid #007C58;">

							<div class="border rounded p-2 mb-2 bg-light" style="margin-top: 15px;">
								<p class="mb-0 text-success">
									Rol: <span th:text="${usuario != null ? usuario.rol : ''}"></span>
								</p>
							</div>

							<div class="border rounded p-2 mb-2 bg-light" style="margin-top: 15px;">
								<p class="mb-0 text-success">
									Nombre Aprendiz: <span th:text="${usuario != null ? usuario.nombre : ''}"></span>
								</p>
							</div>

							<div class="border rounded p-2 mb-2 bg-light">
								<p class="mb-0 text-success">
									Ficha: <span th:text="${usuario != null ? usuario.ficha : ''}"></span>
								</p>
							</div>

							<div class="border rounded p-2 mb-2 bg-light">
								<p class="mb-0 text-success">
									Estado: <span class="badge bg-success"
										th:text="${usuario != null ? usuario.estado : ''}"></span>
								</p>
							</div>
						</div>

						<nav class="nav flex-column">
							<a th:href="@{/usuario/home}" class="btn btn-outline-success btn-sm mt-2">
								<i class="bi bi-box-arrow-left text-success"></i> Salir
							</a>

							<a href="#" class="btn btn-outline-success btn-sm mt-2"
								onclick="mostrarQR(); return false;">
								<i class="bi bi-qr-code me-2 text-success"></i> Código
							</a>

							<div class="codigo-container my-4" id="codigoQR" style="display:none;">
								<img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSMnbU2i2ZVheiCtFIK6xZnSBE0fSikFVjM-Q&s"
									alt="Código QR" class="img-fluid" style="max-width: 250px;">
							</div>

							<a href="#" class="btn btn-outline-success btn-sm mt-2">
								<i class="bi bi-gear me-2 text-success"></i>Configuración
							</a>
						</nav>
					</div>
				</div>

				<!-- Contenido principal -->
				<div class="col-lg-9">
					<div class="access-card bg-white shadow-sm rounded p-4" style="opacity: 0.9;">
						<section class="section dashboard">
							<div class="card">
								<div class="card-body">
									<h5 class="card-title">Registrar Excusa</h5>

									<form th:action="@{/Aprendiz/datosUser}" th:object="${Excusas}" method="post"
										enctype="multipart/form-data">

										<div class="row mb-3">
											<label for="inputText" class="col-sm-2 col-form-label">Nombre y
												apellidos: </label>
											<div class="col-sm-10">
												<input type="text" class="form-control" th:field="*{nombres}"
													placeholder="Ingrese nombres y apellidos" autocomplete="off"
													required>
											</div>
										</div>


										<div class="row mb-3">
											<label for="inputText" class="col-sm-2 col-form-label">Documento: </label>
											<div class="col-sm-10">
												<input type="number" class="form-control" th:field="*{ndocumento}"
													placeholder="Ingrese Nº documento de identidad" autocomplete="off"
													required>
											</div>
										</div>

										<div class="row mb-3">
											<label for="inputText" class="col-sm-2 col-form-label">Ficha: </label>
											<div class="col-sm-10">
												<input type="text" class="form-control" th:field="*{ficha}"
													placeholder="Ingrese nombre de la ficha a la cual pertenece"
													autocomplete="off" required>
											</div>
										</div>


										<div class="row mb-3">
											<label for="inputText" class="col-sm-2 col-form-label">Numero Ficha:
											</label>
											<div class="col-sm-10">
												<input type="number" class="form-control" th:field="*{numeroFicha}"
													placeholder="Ingrese N° de la ficha a la cual pertenece"
													autocomplete="off" required>
											</div>
										</div>

										<div class="row mb-3">
											<label for="inputText" class="col-sm-2 col-form-label">Motivo de
												inasistencia:
											</label>
											<div class="col-sm-10">
												<select th:field="*{motivo}" required>
													<option value="">***Seleccionar***</option>
													<option value="Enfermedad">Enfermedad</option>
													<option value="Incapacidad médica">Incapacidad médica
													</option>
													<option value="Derecho al voto">Derecho al voto</option>
													<option value="Calamidad doméstica">Calamidad doméstica
													</option>
													<option value="Otro">Otro</option>
													<input type="text" class="form-control"
														placeholder="Ingrese el motivo de inasistencia"
														autocomplete="off" >
												</select>
											</div>
										</div>


										<div class="row mb-3">
											<label for="inputText" class="col-sm-2 col-form-label">Fecha:
											</label>
											<div class="col-sm-10">
												<input type="date" th:field="*{fecha}" required>
											</div>
										</div>

										<div class="row mb-3">
											<label for="inputText" class="col-sm-2 col-form-label">Soporte: </label>
											<div class="col-sm-10">
												  <input type="file" th:field="*{soporteFile}" class="form-control" />
												<p>Adjunte un soporte de la inasistencia. </p>
											</div>
										</div>

									

										<div class="mt-3">
											<button type="submit" class="btn btn-success">
												<i class="bi bi-send-plus"></i> Guardar
											</button>
										</div>
									</form>



								</div>
							</div>
						</section>
					</div>
				</div>

			</div>
		</div>
	</main>

	<div th:insert="~{/usuario/templates_usuario.html::footer}"></div>
	<div th:insert="~{/usuario/templates_usuario.html::jsFiles}"></div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"></script>

	<script>
		function mostrarQR() {
			var qr = document.getElementById("codigoQR");
			qr.style.display = qr.style.display === "none" ? "block" : "none";
		}
	</script>

</body>

</html>