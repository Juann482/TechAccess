<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head th:insert="~{/Administrador/templates_Administrador.html::head}"></head>

<body class="contact-page" style="font-family: 'Segoe UI', sans-serif;">

	<!-- Encabezado -->

	<header id="header" class="header d-flex align-items-center fixed-top">
		<div class="container-fluid container-xl position-relative d-flex align-items-center justify-content-between">

			<a th:href="@{/usuario/home}" class="logo d-flex align-items-center">
				<img th:src="@{/images/TecAccess.png}" alt="LogoPrin">
				<h1 class="sitename"><b style="color: rgb(14, 209, 220);">TECH</b>ACCESS <b
						style="color: rgb(14, 209, 220);">|</b> SENA</h1>
			</a>

			<nav id="navmenu" class="navmenu">
				<ul>
					<li><a th:href="@{/Aprendiz/aprendiz}">Aprendiz</a></li>
					<li><a th:href="@{/Aprendiz/excusas}" class="active"><b>Excusas</b></a></li>
					<li><a th:href="@{/Aprendiz/Horario}">Horario</a></li>
					<li><a th:href="@{/Aprendiz/excusas}">Salir</a></li>

				</ul>
				<i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
			</nav>

		</div>
	</header>


	<!-- Contenido principal -->
	<main div style="background-color: rgba(0, 124, 88, 0.05); min-height: 100vh;">

		<!-- Encabezado de p√°gina -->
		<div class="page-title dark-background text-center py-5"
			th:style="'background-image: url(' + @{/images/fondo.jpeg} + '); background-size: cover; background-position: center;'">
			<div class="container position-relative">
				<h1 class="text-white fw-bold mb-3">Detalle Excusas</h1>

			</div>
		</div>

		<!-- üîπ Fondo de video a pantalla completa 
			<div class="video-container2 position-fixed top-0 start-0 w-100 h-100 overflow-hidden"
				style="z-index: -1; opacity: 1;">

				<video class="video-background2 w-100 h-100 object-fit-cover" autoplay muted loop playsinline>
					<source th:src="@{/assets/vid/entradaS.mp4}" type="video/mp4">
					Tu navegador no soporta videos en HTML5.
				</video>
			</div> -->

		<div th:if="${success}" class="alert alert-success alert-dismissible fade show mt-3" role="alert">
			<i class="bi bi-check-circle-fill"></i>
			<span th:text="${success}"></span>
			<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Cerrar"></button>
		</div>

		<div th:if="${error}" class="alert alert-danger alert-dismissible fade show mt-3" role="alert">
			<i class="bi bi-exclamation-triangle-fill"></i>
			<span th:text="${error}"></span>
			<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Cerrar"></button>
		</div>


		<!-- üîπ CONTENIDO PRINCIPAL -->

		<div class=" py-4" style="background-color: rgba(0, 124, 88, 0.05); margin-top: 90px;">
			<div class="container">
				<div class="row">

					<!-- üîπ Tabla de excusas -->
					<div class="access-card bg-white shadow-sm rounded p-4" style="opacity: 0.95;">
						<section class="section dashboard">

							<div class="card-body">
								<div class="table-container">
									<h4 class="text-success mb-4">
										<i class="bi bi-clipboard-check me-2"></i><b>Excusas Registradas</b>
									</h4>
									<table class="table table-hover">
										<thead>
											<tr>
												<th>Id</th>
												<th>Nombre y apellidos</th>
												<th>Documento</th>
												<th>N√∫mero de ficha</th>
												<th>Motivo de inasistencia</th>
												<th>Descripci√≥n</th>
												<th>Fecha</th>
												<th>Soporte</th>
											</tr>
										</thead>
										<tbody>
											<tr th:each="excusa : ${excusas}">
												<td th:text="${excusa.id}"></td>
												<td th:text="${excusa.usuario.nombre}"></td>
												<td th:text="${excusa.usuario.documento}"></td>
												<td th:text="${excusa.usuario.ficha.numFicha}"></td>
												<td th:text="${excusa.motivo}"></td>
												<td th:text="${excusa.descripcion != null and excusa.descripcion.length() > 0 ? excusa.descripcion : '-'}"></td>
												<td th:text="${excusa.fecha}"></td>
												<td>
													<a th:href="@{'/uploads/' + ${excusa.soporte}}" download
														class="btn btn-outline-success btn-sm">
														Descargar soporte
													</a>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>

						</section>
					</div>
				</div>
			</div>
		</div>
	</main>

	<!-- üîπ FOOTER -->
	<div th:insert="~{/usuario/templates_usuario.html::footer}"></div>
	<div th:insert="~{/usuario/templates_usuario.html::jsFiles}"></div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"></script>


</body>

</html>