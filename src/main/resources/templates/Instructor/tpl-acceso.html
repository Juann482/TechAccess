<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<body>
	<div th:fragment="listaAccesos">
		<div class="access-card bg-white shadow-sm rounded p-4" style="opacity: 0.95;">
			<h2 class="mb-4 text-success"><i class="bi bi-clock-history me-2"></i> Últimas Entradas</h2>
			<div class="card shadow-sm">
				<div class="card-body">
					<table class="table table-hover align-middle">
						<thead class="table-light">
							<tr>
								<th>Estudiante</th>
								<th>Área</th>
								<th>Fecha</th>
								<th>Estado</th>
								<th class="text-center">Acciones</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="entrada : ${accesos}">
								<td th:text="${entrada.usuario.nombre}">Juan Pérez</td>
								<td th:text="${entrada.areaJobs.nombre}">Idiomas</td>
								<td th:text="${#dates.format(entrada.horaIngreso, 'yyyy-MM-dd HH:mm')}">2025-09-20</td>
								<td>
									<span th:if="${entrada.estadoPermanencia.nombre == 'OK'}"
										class="badge bg-success bg-opacity-10 text-success px-3 py-2">OK</span>
									<span th:if="${entrada.estadoPermanencia.nombre != 'OK'}"
										class="badge bg-danger bg-opacity-10 text-danger px-3 py-2">NO OK</span>
								</td>
								<td class="text-center">
									<a th:href="@{'/acceso/editar/' + ${entrada.idacceso}}"
										class="btn btn-sm btn-outline-primary me-2"><i
											class="bi bi-pencil-square"></i></a>
									<a th:href="@{'/acceso/eliminar/' + ${entrada.idacceso}}"
										class="btn btn-sm btn-outline-danger"
										onclick="return confirm('¿Seguro que deseas eliminar esta entrada?');"><i
											class="bi bi-trash"></i></a>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
</body>

</html>